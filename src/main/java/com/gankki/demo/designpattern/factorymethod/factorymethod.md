# Factory Method Pattern 工厂方法模式

Define an interface for creating an object,but let subclasses decide which class to
instantiate.Factory Method lets a class defer instantiation to subclasses.

定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其他子类中去。

#### 工厂方法模式的优点
1. 良好的封装性，代码结构清晰。只需要知道这个类的类名（或约束字符串）即可，不用知道创建对象的过程，降低了模块之间的耦合性。
2. 扩展性很好
3. 屏蔽了产品类的具体细节，产品类是如何实现的，调用者都不需要关心，只需要关心接口，只要接口不变，系统中的上层模块就不用发生变化。      
如果使用JDBC连接数据库，数据库的切换，只需要更改一下数据库驱动名称即可。
4. 典型的解耦框架，高层模块只需要知道产品的抽象类，其他的实现类都不需要关心，符合迪米特原则，不需要的就不用去交流。也符合依赖倒置原则，只依赖于产品类的抽象，也符合里氏代换原则，使用产品子类可以可以替换产品父类。

#### 工厂方法模式的扩展
1. 缩小为简单工厂模式。一个模块只需要一个工厂类，没必要通过抽象工厂类，在继承抽象类后实例化，这种策略是可能存在多个工厂时候使用的，如果只有一个工厂，可以提供一个静态方法即可，调用者直接通过工厂类的静态方法获取实例化对象即可。该模式是对工厂方法模式的弱化，因为简单，所以称为简单工厂模式。section2
2. 升级为多个工厂类。如果每个实现类的实现细节大不相同，就可以针对每个不同的类都实现一个工厂类。
3. 替代单例模式 section3
4. 延迟初始化 Lazy Initialization 一个对象被消费完毕后，并不立刻释放，工厂类保持其状态，等待再次被使用。section4 

#### Gankki's Note
提供一个工厂类，这个类中包含了一些返回值为实例化对象的方法，可以通过有参/无参的方法返回实例化对象。有参数的方法返回指定类型的实例化对象，方法参数一般为对象的限定名或者class类型，无参的参数只能创建一种类型的实例化对象。





