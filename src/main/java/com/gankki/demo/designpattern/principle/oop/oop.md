# Open Closed Principle OOP

Software entities like classes,modules and functions should be open for extension but closed for modifications.     
软件中实体如类、模块、函数应该对扩展开放，对修改关闭。也就是一个软件实体应该通过扩展来实现变化，而不是通过修改已有的代码来实现变化。

它是为软件实体的未来事件而制定的对现行开发设计进行约束的一个原则

**在非金融项目中对货币进行处理时，一般采取2位精度，通常额设计方法是在运算的过程中扩大100倍，在需要展示时再缩小100倍，来减少精度带来的误差**

开闭原则对扩展开放，对修改关闭，并不意味着不做任何修改，底层模块的变化，必然需要高层模块进行耦合，否则就是一个鼓励无意义的代码片段

开闭原则是最基础的一个原则，其他五个原则是指导设计的工具和方法，而开闭原则才是其精神领袖。开闭原则就像抽象类，其他五个原则就像实现类。

#### 理解开闭原则的重要性
1. 开闭原则对测试的影响       
一个方法的测试最少三种：1.正常的业务逻辑要测试到 2.边界条件要测试到 3.异常要测试到。比较重要的方法测试可达十多种        
如果我们直接修改了业务逻辑，就会导致原来的测试不可用。正确的做法是扩展原来的业务逻辑，然后在针对新的扩展测试。
2. 开闭原则可以提高复用性
3. 开闭原则可以提高可维护性
4. 面向对象开发的要求
#### 如何使用开闭原则
1. 抽象约束
2. 元数据（metadata）控制模块行为 元数据：用来描述环境和数据的数据，通俗地说就是配置参数。
3. 执行项目章程
4. 封装变化












